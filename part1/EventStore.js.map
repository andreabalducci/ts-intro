{"version":3,"file":"EventStore.js","sourceRoot":"","sources":["EventStore.ts"],"names":["EventStore","EventStore.getType","EventStore.getClassName","EventStore.DomainError","EventStore.DomainError.constructor","EventStore.InvariantViolatedException","EventStore.InvariantViolatedException.constructor","EventStore.Command","EventStore.Command.constructor","EventStore.Command.GetType","EventStore.Event","EventStore.Event.constructor","EventStore.Event.GetType","EventStore.Projection","EventStore.Projection.constructor","EventStore.Projection.On","EventStore.Projection.Handle","EventStore.Projection.HandleEvent","EventStore.AggregateState","EventStore.AggregateState.constructor","EventStore.AggregateState.apply","EventStore.AggregateState.addCheck","EventStore.AggregateState.checkInvariants","EventStore.Aggregate","EventStore.Aggregate.constructor","EventStore.Aggregate.RaiseEvent","EventStore.Aggregate.getAggregateType","EventStore.Aggregate.getAggregateId","EventStore.Aggregate.getUncommitedEvents","EventStore.Aggregate.checkInvariants","EventStore.Stream","EventStore.Stream.constructor","EventStore.Stream.commit","EventStore.Persistence","EventStore.Persistence.constructor","EventStore.Persistence.openStream","EventStore.Repository","EventStore.Repository.constructor","EventStore.Repository.getById","EventStore.Repository.save","EventStore.Bus","EventStore.Bus.constructor","EventStore.Bus.send","EventStore.Bus.publish","EventStore.Bus.subscribe","EventStore.Bus.On"],"mappings":"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"}